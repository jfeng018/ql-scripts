# 🌟 青龙面板脚本合集 - 天翼云盘自动签到工具

<div align="center">

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8+-green.svg)](https://python.org)

**🚀 专为青龙面板设计的脚本项目合集 - 天翼云盘自动签到工具，每日获取免费存储空间**

</div>

---

## 📊 功能特性

- 🎯 **自动签到** - 每日定时自动签到，无需手动操作
- 🎲 **智能抽奖** - 签到后自动参与抽奖活动
- 📈 **容量统计** - 实时显示获得的存储容量
- 🔄 **多账户支持** - 支持配置多个天翼云盘账户
- 🛠️ **青龙面板集成** - 专为青龙面板优化，支持环境变量配置
- 🔄 **自动更新** - 支持通过订阅管理功能实现所有脚本的在线更新

---

## 🧰 青龙面板使用方法

### 1️⃣ 使用订阅管理（推荐）

本仓库是一个专为青龙面板设计的脚本合集，支持通过订阅管理功能实现所有脚本的在线更新：

1. 打开青龙面板
2. 进入「订阅管理」页面
3. 点击「新建订阅」按钮
4. 填写以下信息：
   - **名称**：青龙面板脚本合集
   - **类型**：公开仓库
   - **链接**：`https://github.com/jfeng018/ql-scripts`（如果项目迁移到GitHub后）
   - **定时规则**：`0 8 * * *` （每天上午8点检查更新）
   - **白名单**：留空（同步所有脚本）或指定特定脚本

通过订阅管理，当仓库中有任何脚本更新时，青龙面板会自动拉取最新代码，无需手动更新。

### 2️⃣ 手动添加脚本

1. 打开青龙面板
2. 进入「脚本管理」页面
3. 点击「新建脚本」按钮
4. 将 `189pan/script/189pan.py` 文件内容复制到编辑器中
5. 保存脚本，命名为 `189pan.py`

或者通过命令行方式：
```bash
# 进入青龙面板容器
docker exec -it ql bash
# 进入脚本目录
cd /ql/scripts
# 创建项目目录
mkdir -p 189pan
# 将脚本文件复制到此目录
cp /path/to/ql-scripts/189pan/script/189pan.py ./189pan/
```

### 3️⃣ 安装依赖

在青龙面板终端中执行以下命令安装依赖：

```bash
pip3 install -r 189pan/requirements.txt
```

或者单独安装：
```bash
pip3 install requests pyquery rsa lxml pytz
```

### 4️⃣ 配置环境变量

1. 在青龙面板中进入「环境变量」页面
2. 点击「新建变量」按钮
3. 添加以下两个环境变量：

| 变量名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| `TYYP_USERNAME` | String | 是 | 天翼云盘账号手机号，多个账号用 `&` 分隔 | `13800138000` 或 `13800138000&13900139000` |
| `TYYP_PSW` | String | 是 | 天翼云盘账号密码，多个账号用 `&` 分隔，与账号顺序一一对应 | `your_password` 或 `password1&password2` |

详细配置说明请参考 [变量说明文档](./189pan/variables.md)

### 5️⃣ 设置定时任务

1. 在青龙面板中进入「定时任务」页面
2. 点击「新建任务」按钮
3. 填写以下信息：

**任务名称**：天翼云盘签到
**命令**：`python3 /ql/scripts/189pan/189pan.py`
**定时规则**：`0 9,21 * * *` （每天上午9点和晚上9点执行）
**任务标签**：189pan

### 6️⃣ 手动测试

1. 在「脚本管理」页面找到 `189pan.py`
2. 点击「运行」按钮进行测试
3. 查看运行日志确认签到是否成功

---

## 📁 项目结构

```
ql-scripts/                  # 青龙面板脚本合集根目录
└── 189pan/                 # 天翼云盘签到脚本目录
    ├── script/
    │   └── 189pan.py       # 天翼云盘签到脚本
    ├── variables.md        # 环境变量配置说明
    ├── requirements.txt    # Python依赖
    └── README.md          # 天翼云盘签到说明
```

随着项目发展，将会添加更多的脚本目录：

```
ql-scripts/                  # 青龙面板脚本合集根目录
├── 189pan/                 # 天翼云盘签到脚本目录
├── other_script/           # 其他脚本目录
├── another_script/         # 另一个脚本目录
└── ...                     # 更多脚本目录
```

---

## 🔄 自动更新机制

通过青龙面板的订阅管理功能，您可以实现所有脚本的自动更新：

1. 当脚本仓库有更新时，青龙面板会自动拉取最新代码
2. 所有脚本都会被同步更新（除非设置了白名单）
3. 定时任务会使用最新的脚本执行

这样，当脚本作者修复bug或增加新功能时，您的青龙面板会自动获取最新版本，无需手动更新。

---

## 🛠️ 依赖说明

脚本运行需要以下Python库：
- `requests` - HTTP请求库
- `pyquery` - HTML解析库
- `rsa` - RSA加密库
- `lxml` - XML/HTML处理库
- `pytz` - 时区处理库

---

## 🆘 故障排除

| 问题类型 | 解决方案 |
|----------|----------|
| 🚫 签到失败 | 检查用户名密码是否正确 |
| ⏰ 执行时间异常 | 检查定时任务配置 |
| 🔐 权限错误 | 确认环境变量配置正确 |
| 📦 依赖缺失 | 安装所需Python依赖包 |
| 📄 日志无输出 | 检查脚本路径是否正确 |
| 🔄 更新失败 | 检查订阅链接是否正确，网络连接是否正常 |

---

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目！

---

## 🙏 致谢

- 感谢 [qsf728999746](https://github.com/qsf728999746) 提供的原始项目
- 感谢所有贡献者的支持和改进建议

---

<div align="center">

**⭐ 如果这个项目对您有帮助，请给个Star支持一下！**

</div>